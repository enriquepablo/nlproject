

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Counting Sentences &mdash; nlproject 1.0dev documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="nlproject 1.0dev documentation" href="index.html" />
    <link rel="up" title="Documentation for nl" href="nl_intro.html" />
    <link rel="next" title="Example: A content management system" href="cms.html" />
    <link rel="prev" title="Queries" href="queries.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="cms.html" title="Example: A content management system"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="queries.html" title="Queries"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">nlproject 1.0dev documentation</a> &raquo;</li>
          <li><a href="nl_intro.html" accesskey="U">Documentation for nl</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="counting-sentences">
<h1>Counting Sentences<a class="headerlink" href="#counting-sentences" title="Permalink to this headline">¶</a></h1>
<p>Let&#8217;s suppose we are talking about a number of people, like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sue</span> <span class="o">=</span> <span class="n">Woman</span><span class="p">(</span><span class="s">&#39;sue&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joanna</span> <span class="o">=</span> <span class="n">Woman</span><span class="p">(</span><span class="s">&#39;joanna&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dawn</span> <span class="o">=</span> <span class="n">Woman</span><span class="p">(</span><span class="s">&#39;dawn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eva</span> <span class="o">=</span> <span class="n">Woman</span><span class="p">(</span><span class="s">&#39;eva&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sarah</span> <span class="o">=</span> <span class="n">Woman</span><span class="p">(</span><span class="s">&#39;sarah&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">sue</span><span class="p">,</span> <span class="n">joanna</span><span class="p">,</span> <span class="n">dawn</span><span class="p">,</span> <span class="n">eva</span><span class="p">,</span> <span class="n">sarah</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">john</span><span class="p">,</span> <span class="n">Loves</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">yoko</span><span class="p">),</span> <span class="n">Duration</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">1</span> <span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="mi">2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">john</span><span class="p">,</span> <span class="n">Loves</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">sue</span><span class="p">),</span> <span class="n">Duration</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">2</span> <span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="mi">3</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">john</span><span class="p">,</span> <span class="n">Loves</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">joanna</span><span class="p">),</span> <span class="n">Duration</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">3</span> <span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="mi">4</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">john</span><span class="p">,</span> <span class="n">Loves</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">dawn</span><span class="p">),</span> <span class="n">Duration</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">4</span> <span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="mi">5</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">john</span><span class="p">,</span> <span class="n">Loves</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">eva</span><span class="p">),</span> <span class="n">Duration</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">5</span> <span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="mi">6</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">bob</span><span class="p">,</span> <span class="n">Loves</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">sarah</span><span class="p">),</span> <span class="n">Duration</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">1</span> <span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="mi">4</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">bob</span><span class="p">,</span> <span class="n">Loves</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">dawn</span><span class="p">),</span> <span class="n">Duration</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">4</span> <span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="mi">6</span><span class="p">)))</span>
</pre></div>
</div>
<p>Now, we might want to make rules about people who have loved 4 women, or about the person who has loved the most women, or about the number of women that has loved the person who has loved the least women. To do so, we can only count sentences. We might of course count them by hand and add redundant new sentences to state what we have found, but the information was already there. So nl allows us constructs to count sentences that are in the knowledge base and confom to a given pattern.</p>
<p>For this bussiness of counting sentences, there are 4 classes that we can use in the conditions of rules, in any place where a number might have been used: <tt class="docutils literal"><span class="pre">Count</span></tt>, <tt class="docutils literal"><span class="pre">UniqueCount</span></tt>, <tt class="docutils literal"><span class="pre">MaxCount</span></tt>, and <tt class="docutils literal"><span class="pre">MinCount</span></tt>. In all cases, we provide as arguments to the constructor any number of sentences. The variables that take part in these sentences can be of 2 types: bound, and free. Bound variables are those that appear in previous conditions, and free variables those that do not.</p>
<div class="section" id="count">
<h2>Count<a class="headerlink" href="#count" title="Permalink to this headline">¶</a></h2>
<p>Constructs built with <tt class="docutils literal"><span class="pre">Count</span></tt> will count all (sets of) sentences that comply with the provided pattern. For example, <tt class="docutils literal"><span class="pre">Count(Fact(HumanBeing('X1'),</span> <span class="pre">Loves(who=Woman('W1')),</span> <span class="pre">Duration('D1')))</span></tt> will give <tt class="docutils literal"><span class="pre">7</span></tt> (the number of sentences where it is stated that someone loves someone else), and <tt class="docutils literal"><span class="pre">Count(Fact(john,</span> <span class="pre">Loves(who=Woman('W1')),</span> <span class="pre">Duration('D1')))</span></tt> will give <tt class="docutils literal"><span class="pre">5</span></tt> (the number of sentences where it is stated that John loves someone).</p>
</div>
<div class="section" id="uniquecount">
<h2>UniqueCount<a class="headerlink" href="#uniquecount" title="Permalink to this headline">¶</a></h2>
<p>Constructs built with <tt class="docutils literal"><span class="pre">UniqueCount</span></tt> require, appart from the sentence patterns to be counted, a list of variables that are required to be unique (that are free in the given sentences), and will count the number of sentences that match the given pattern and have distinct values for the variables that are required to be unique. For example, <tt class="docutils literal"><span class="pre">UniqueCount(('X1',),</span> <span class="pre">Fact(HumanBeing('X1'),</span> <span class="pre">Loves(who=Woman('W1')),</span> <span class="pre">Duration('D1')))</span></tt> will give <tt class="docutils literal"><span class="pre">2</span></tt> (the number of different subjects of sentences where it is stated that someone loves someone else), and <tt class="docutils literal"><span class="pre">UniqueCount(('W1',),</span> <span class="pre">Fact(HumanBeing('X1'),</span> <span class="pre">Loves(who=Woman('W1')),</span> <span class="pre">Duration('D1')))</span></tt> will give <tt class="docutils literal"><span class="pre">6</span></tt> (the number of women that are stated to be loved).</p>
</div>
<div class="section" id="maxcount-and-mincount">
<h2>MaxCount and MinCount<a class="headerlink" href="#maxcount-and-mincount" title="Permalink to this headline">¶</a></h2>
<p>Constructs made with <tt class="docutils literal"><span class="pre">MaxCount</span></tt> or <tt class="docutils literal"><span class="pre">MinCount</span></tt> require a single variable as first argument, that is free in the sentences to be counted, and will count the maximum (or minimum) number of sentences that match the given pattern and have the same value for the given variable. For example, <tt class="docutils literal"><span class="pre">MaxCount('X1',</span> <span class="pre">Fact(HumanBeing('X1'),</span> <span class="pre">Loves(who=Woman('W1')),</span> <span class="pre">Duration('D1')))</span></tt> will give <tt class="docutils literal"><span class="pre">5</span></tt> (the number of women that john is stated to love, john being the maximum lover), and <tt class="docutils literal"><span class="pre">MinCount('W1',</span> <span class="pre">Fact(HumanBeing('X1'),</span> <span class="pre">Loves(who=Woman('W1')),</span> <span class="pre">Duration('D1')))</span></tt> will give <tt class="docutils literal"><span class="pre">1</span></tt> (the number of times the least loved women are loved).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Counting Sentences</a><ul>
<li><a class="reference internal" href="#count">Count</a></li>
<li><a class="reference internal" href="#uniquecount">UniqueCount</a></li>
<li><a class="reference internal" href="#maxcount-and-mincount">MaxCount and MinCount</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="queries.html"
                        title="previous chapter">Queries</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cms.html"
                        title="next chapter">Example: A content management system</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/counting.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="cms.html" title="Example: A content management system"
             >next</a> |</li>
        <li class="right" >
          <a href="queries.html" title="Queries"
             >previous</a> |</li>
        <li><a href="index.html">nlproject 1.0dev documentation</a> &raquo;</li>
          <li><a href="nl_intro.html" >Documentation for nl</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Enrique Pablo Pérez Arnaud &lt;enriquepablo at google&#39;s mail domain&gt;.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>