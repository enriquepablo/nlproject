

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Special conditions and consecuences &mdash; nlproject 1.0dev documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="nlproject 1.0dev documentation" href="index.html" />
    <link rel="up" title="Documentation for nl" href="nl_intro.html" />
    <link rel="next" title="Queries" href="queries.html" />
    <link rel="prev" title="Arithmetics" href="arithmetics.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="queries.html" title="Queries"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="arithmetics.html" title="Arithmetics"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">nlproject 1.0dev documentation</a> &raquo;</li>
          <li><a href="nl_intro.html" accesskey="U">Documentation for nl</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="special-conditions-and-consecuences">
<h1>Special conditions and consecuences<a class="headerlink" href="#special-conditions-and-consecuences" title="Permalink to this headline">¶</a></h1>
<p>As we have already seen with <tt class="docutils literal"><span class="pre">Arith</span></tt> in the section on arithmetics, there are some special predicates that we can only use as conditions in rules. Here we shall go over them, and will also mention a special consecuence already hinted at in the section dealing with time expressions, <tt class="docutils literal"><span class="pre">Finish</span></tt>.</p>
<div class="section" id="time-conditions">
<h2>Time conditions<a class="headerlink" href="#time-conditions" title="Permalink to this headline">¶</a></h2>
<p>There are in nl a number of predicates that test certain relationships among <em>time expressions</em>. The reason we don&#8217;t just use arithmetic conditions to test these relations is the special treatment of the present time when using time.</p>
<p>For example, we can test whether an instant is whithin a duration, or whether 2 or more durations intersect.</p>
<p><strong>During</strong></p>
<p>We can test whether an instant lies between a given duration or list of durations. To do so, we import <tt class="docutils literal"><span class="pre">During</span></tt> from <tt class="docutils literal"><span class="pre">nl</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nl</span> <span class="kn">import</span> <span class="n">During</span>
</pre></div>
</div>
<p>To exemplify this feature, we will use the <tt class="docutils literal"><span class="pre">Wants</span></tt> verb (defined in the section on verbs and predicates) and the <tt class="docutils literal"><span class="pre">Can</span></tt> verb defined in the section on arithmetics. This example will be given by the following rule, that translated into English, would assert that, if someone wants to do something at a given moment, and can do it in a duration that covers that moment, (s)he just does it (at that moment):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">r6</span> <span class="o">=</span> <span class="n">Rule</span><span class="p">([</span>
<span class="gp">... </span>  <span class="n">Fact</span><span class="p">(</span><span class="n">HumanBeing</span><span class="p">(</span><span class="s">&#39;H1&#39;</span><span class="p">),</span> <span class="n">Wants</span><span class="p">(</span><span class="n">to</span><span class="o">=</span><span class="n">Exists</span><span class="p">(</span><span class="s">&#39;E1&#39;</span><span class="p">)),</span> <span class="n">Instant</span><span class="p">(</span><span class="s">&#39;I1&#39;</span><span class="p">)),</span>
<span class="gp">... </span>  <span class="n">Fact</span><span class="p">(</span><span class="n">HumanBeing</span><span class="p">(</span><span class="s">&#39;H1&#39;</span><span class="p">),</span> <span class="n">Can</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Exists</span><span class="p">(</span><span class="s">&#39;E1&#39;</span><span class="p">)),</span> <span class="n">Duration</span><span class="p">(</span><span class="s">&#39;D1&#39;</span><span class="p">)),</span>
<span class="gp">... </span>  <span class="n">During</span><span class="p">(</span><span class="s">&#39;I1&#39;</span><span class="p">,</span> <span class="s">&#39;D1&#39;</span><span class="p">),</span>
<span class="gp">... </span>  <span class="p">],[</span>
<span class="gp">... </span>  <span class="n">Fact</span><span class="p">(</span><span class="n">HumanBeing</span><span class="p">(</span><span class="s">&#39;H1&#39;</span><span class="p">),</span> <span class="n">Exists</span><span class="p">(</span><span class="s">&#39;E1&#39;</span><span class="p">),</span> <span class="n">Instant</span><span class="p">(</span><span class="s">&#39;I1&#39;</span><span class="p">))])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">r6</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bob</span> <span class="o">=</span> <span class="n">HumanBeing</span><span class="p">(</span><span class="s">&#39;bob&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">bob</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, let us further complicate this example. We define a verb &#8220;drinks&#8221; and a verb &#8220;has&#8221;, a noun &#8220;drinkable substance&#8221;, and a couple of substances:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">DrinkableSubstance</span><span class="p">(</span><span class="n">Thing</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beer</span> <span class="o">=</span> <span class="n">DrinkableSubstance</span><span class="p">(</span><span class="s">&#39;beer&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coffee</span> <span class="o">=</span> <span class="n">DrinkableSubstance</span><span class="p">(</span><span class="s">&#39;coffee&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">beer</span><span class="p">,</span> <span class="n">coffee</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Drinks</span><span class="p">(</span><span class="n">Exists</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">subject</span> <span class="o">=</span> <span class="n">HumanBeing</span>
<span class="gp">... </span>    <span class="n">mods</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;what&#39;</span><span class="p">:</span> <span class="n">DrinkableSubstance</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Has</span><span class="p">(</span><span class="n">Exists</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">subject</span> <span class="o">=</span> <span class="n">HumanBeing</span>
<span class="gp">... </span>    <span class="n">mods</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;what&#39;</span><span class="p">:</span> <span class="n">Thing</span><span class="p">}</span>
</pre></div>
</div>
<p>Now, we can define a rule that states that if someone has some drinkable substance at some instant, (s)he can drink it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">r7</span> <span class="o">=</span> <span class="n">Rule</span><span class="p">([</span>
<span class="gp">... </span>  <span class="n">Fact</span><span class="p">(</span><span class="n">HumanBeing</span><span class="p">(</span><span class="s">&#39;H1&#39;</span><span class="p">),</span> <span class="n">Has</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">DrinkableSubstance</span><span class="p">(</span><span class="s">&#39;S1&#39;</span><span class="p">)),</span> <span class="n">Instant</span><span class="p">(</span><span class="s">&#39;I1&#39;</span><span class="p">)),</span>
<span class="gp">... </span>  <span class="p">],[</span>
<span class="gp">... </span>  <span class="n">Fact</span><span class="p">(</span><span class="n">HumanBeing</span><span class="p">(</span><span class="s">&#39;H1&#39;</span><span class="p">),</span> <span class="n">Can</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Drinks</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">DrinkableSubstance</span><span class="p">(</span><span class="s">&#39;S1&#39;</span><span class="p">))),</span> <span class="n">Duration</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s">&#39;I1&#39;</span><span class="p">))])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">r7</span><span class="p">)</span>
</pre></div>
</div>
<p>With all this in place, we can now assert the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">john</span><span class="p">,</span> <span class="n">Has</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">beer</span><span class="p">),</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">bob</span><span class="p">,</span> <span class="n">Has</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">coffee</span><span class="p">),</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>Furthermore, we assert that they wish:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">john</span><span class="p">,</span> <span class="n">Wants</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Drinks</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">beer</span><span class="p">)),</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">bob</span><span class="p">,</span> <span class="n">Wants</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Drinks</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">coffee</span><span class="p">)),</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>Let us not forget to extend our kb:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">extend</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Now we are ready to ask a few things.</p>
<blockquote>
<div><ul class="simple">
<li>Does John drink beer at 3?</li>
</ul>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">john</span><span class="p">,</span> <span class="n">Drinks</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">beer</span><span class="p">),</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
<p>No: he wanted, but he did not have beer until 5</p>
</div></blockquote>
<ul class="simple">
<li>Does John drink beer at 5?</li>
</ul>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">john</span><span class="p">,</span> <span class="n">Drinks</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">beer</span><span class="p">),</span> <span class="mi">5</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
<p>No: he already had beer, but he did not want to drink at that time.</p>
</div></blockquote>
<ul class="simple">
<li>Does Bob drink coffee at 3?</li>
</ul>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">bob</span><span class="p">,</span> <span class="n">Drinks</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">coffee</span><span class="p">),</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Yes, at that time he had and wanted.</p>
</div></blockquote>
<ul class="simple">
<li>Can John drink beer at 6?</li>
</ul>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">john</span><span class="p">,</span> <span class="n">Can</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Drinks</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">beer</span><span class="p">)),</span> <span class="mi">6</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Yes, he had since 5.</p>
</div></blockquote>
<ul class="simple">
<li>Can Bob drink beer at 6?</li>
</ul>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">bob</span><span class="p">,</span> <span class="n">Can</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Drinks</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">beer</span><span class="p">)),</span> <span class="mi">6</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
<p>No, he never had.</p>
</div></blockquote>
<ul class="simple">
<li>Can Bob drink coffee at 6?</li>
</ul>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">bob</span><span class="p">,</span> <span class="n">Can</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Drinks</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">coffee</span><span class="p">)),</span> <span class="mi">6</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Yes, he had since 3.</p>
</div></blockquote>
</div></blockquote>
<p>Etc. etc. Of course, this is not a very satisfying ontology; we would want to take into account &#8220;amounts&#8221; had and drunk, consumption of existences, and so on. Defining acceptable ontologies requires some work and iterations until you get it right. But our aim here is not to define acceptable ontologies, only to demonstrate how to use <tt class="docutils literal"><span class="pre">nl</span></tt>.</p>
<p><strong>Coincide (and Intersection)</strong></p>
<p>We can test whether a set of durations have an intersection. To do this, we import <tt class="docutils literal"><span class="pre">Coincide</span></tt> from nl, and use it as a condition in rules giving it any number of durations.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nl</span> <span class="kn">import</span> <span class="n">Duration</span><span class="p">,</span> <span class="n">Intersection</span>
</pre></div>
</div>
<p>With this, we may, for example, build a rule that states that, if two people live in the same place at the same time, they can meet each other. For this, we need a <tt class="docutils literal"><span class="pre">Place</span></tt> noun, a <tt class="docutils literal"><span class="pre">Lives</span></tt> verb, and a <tt class="docutils literal"><span class="pre">Meets</span></tt> verb.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Place</span><span class="p">(</span><span class="n">Thing</span><span class="p">):</span> <span class="k">pass</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Lives</span><span class="p">(</span><span class="n">Exists</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">subject</span> <span class="o">=</span> <span class="n">HumanBeing</span>
<span class="gp">... </span>    <span class="n">mods</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;where&#39;</span><span class="p">:</span> <span class="n">Place</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Meets</span><span class="p">(</span><span class="n">Exists</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">subject</span> <span class="o">=</span> <span class="n">HumanBeing</span>
<span class="gp">... </span>    <span class="n">mods</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;who&#39;</span><span class="p">:</span> <span class="n">HumanBeing</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Rule</span><span class="p">([</span>
<span class="gp">... </span>     <span class="n">Fact</span><span class="p">(</span><span class="n">HumanBeing</span><span class="p">(</span><span class="s">&#39;H1&#39;</span><span class="p">),</span> <span class="n">Lives</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="n">Place</span><span class="p">(</span><span class="s">&#39;P1&#39;</span><span class="p">)),</span> <span class="n">Duration</span><span class="p">(</span><span class="s">&#39;D1&#39;</span><span class="p">)),</span>
<span class="gp">... </span>     <span class="n">Fact</span><span class="p">(</span><span class="n">HumanBeing</span><span class="p">(</span><span class="s">&#39;H2&#39;</span><span class="p">),</span> <span class="n">Lives</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="n">Place</span><span class="p">(</span><span class="s">&#39;P1&#39;</span><span class="p">)),</span> <span class="n">Duration</span><span class="p">(</span><span class="s">&#39;D2&#39;</span><span class="p">)),</span>
<span class="gp">... </span>     <span class="n">Coincide</span><span class="p">(</span><span class="s">&#39;D1&#39;</span><span class="p">,</span> <span class="s">&#39;D2&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">],[</span>
<span class="gp">... </span>     <span class="n">Fact</span><span class="p">(</span><span class="n">HumanBeing</span><span class="p">(</span><span class="s">&#39;H1&#39;</span><span class="p">),</span> <span class="n">Can</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Meets</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">HumanBeing</span><span class="p">(</span><span class="s">&#39;H2&#39;</span><span class="p">))),</span>
<span class="gp">... </span>               <span class="n">Intersection</span><span class="p">(</span><span class="s">&#39;D1&#39;</span><span class="p">,</span> <span class="s">&#39;D2&#39;</span><span class="p">)),</span>
<span class="gp">... </span><span class="p">]))</span>
</pre></div>
</div>
<p>Note the use of <tt class="docutils literal"><span class="pre">Intersection</span></tt>. It is used where a <tt class="docutils literal"><span class="pre">Duration</span></tt> would be used, and does what might be expected, i.e., produces a duration that is the intersection of any number of durations.</p>
<p>Now we might say:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">england</span> <span class="o">=</span> <span class="n">Place</span><span class="p">(</span><span class="s">&#39;england&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eeuu</span> <span class="o">=</span> <span class="n">Place</span><span class="p">(</span><span class="s">&#39;eeuu&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">england</span><span class="p">,</span> <span class="n">eeuu</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">john</span><span class="p">,</span> <span class="n">Lives</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="n">england</span><span class="p">),</span> <span class="n">Duration</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">7</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">mary</span><span class="p">,</span> <span class="n">Lives</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="n">england</span><span class="p">),</span> <span class="n">Duration</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">9</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">bob</span><span class="p">,</span> <span class="n">Lives</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="n">eeuu</span><span class="p">),</span> <span class="n">Duration</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">9</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">extend</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
<p>And then ask:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">john</span><span class="p">,</span> <span class="n">Can</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Meets</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">mary</span><span class="p">)),</span> <span class="mi">5</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">mary</span><span class="p">,</span> <span class="n">Can</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Meets</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">john</span><span class="p">)),</span> <span class="mi">6</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">mary</span><span class="p">,</span> <span class="n">Can</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Meets</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">john</span><span class="p">)),</span> <span class="mi">8</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">bob</span><span class="p">,</span> <span class="n">Can</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Meets</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">mary</span><span class="p">)),</span> <span class="mi">5</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kb</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">Fact</span><span class="p">(</span><span class="n">bob</span><span class="p">,</span> <span class="n">Can</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="n">Meets</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">john</span><span class="p">)),</span> <span class="mi">5</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="section" id="negation-by-failure-unknown">
<h2>Negation by failure (Unknown)<a class="headerlink" href="#negation-by-failure-unknown" title="Permalink to this headline">¶</a></h2>
<p>In a rule, you can ask whether something is or is not known. For this, you import <tt class="docutils literal"><span class="pre">Not</span></tt> from <tt class="docutils literal"><span class="pre">nl</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nl</span> <span class="kn">import</span> <span class="n">Not</span>
</pre></div>
</div>
<p>Note that <tt class="docutils literal"><span class="pre">Not</span></tt> is not strictly &#8220;unknown&#8221;: it is just absence from the knowledge base. Thus, if the negation of the condition is actually known, the <tt class="docutils literal"><span class="pre">Not</span></tt> condition will be true, just as if it were really unknown. In the &#8220;TODO&#8221; list is a true <tt class="docutils literal"><span class="pre">Unknown</span></tt> condition, that will be the conjunction of <tt class="docutils literal"><span class="pre">Not</span></tt> true and <tt class="docutils literal"><span class="pre">Not</span></tt> false.</p>
<p>Another issue with <tt class="docutils literal"><span class="pre">Not</span></tt> is that all variables that appear in the condition must be already bound in previous conditions. It cannot check all the unknowns, since they may be infinite, specially if the time expression is unbound.</p>
<p>Because of these issues, I don&#8217;t feel like building a rather contrived ontology to give an example of this condition, so for now I will leave this matter at this.</p>
</div>
<div class="section" id="conjunction-and-disjunction">
<h2>Conjunction and Disjunction<a class="headerlink" href="#conjunction-and-disjunction" title="Permalink to this headline">¶</a></h2>
<p>We may import <tt class="docutils literal"><span class="pre">And</span></tt> and <tt class="docutils literal"><span class="pre">Or</span></tt> to build conditions that are conjuntions and disjunctions. The conjuntion of 2 conditions is just the same as the 2 separate conditions by themselves; they only make sense when used nested within disjunctions.</p>
<p><strong>TODO</strong></p>
</div>
<div class="section" id="subwords">
<h2>Subwords<a class="headerlink" href="#subwords" title="Permalink to this headline">¶</a></h2>
<p>We can use <tt class="docutils literal"><span class="pre">Subword</span></tt> to test a &#8220;subset relationship&#8221; between nouns or verbs. For example, we might have a condition like <tt class="docutils literal"><span class="pre">Subword(Noun('N1'),</span> <span class="pre">HumanBeing)</span></tt> to test whether a certain noun is a &#8220;subset&#8221; or subword of <tt class="docutils literal"><span class="pre">HumanBeing</span></tt>. As I have been doing in previous sections dealing with <tt class="docutils literal"><span class="pre">Noun</span></tt> and <tt class="docutils literal"><span class="pre">Verb</span></tt>, I will defer fully exemplifying this question until a later section.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Special conditions and consecuences</a><ul>
<li><a class="reference internal" href="#time-conditions">Time conditions</a></li>
<li><a class="reference internal" href="#negation-by-failure-unknown">Negation by failure (Unknown)</a></li>
<li><a class="reference internal" href="#conjunction-and-disjunction">Conjunction and Disjunction</a></li>
<li><a class="reference internal" href="#subwords">Subwords</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="arithmetics.html"
                        title="previous chapter">Arithmetics</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="queries.html"
                        title="next chapter">Queries</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/special_conditions.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="queries.html" title="Queries"
             >next</a> |</li>
        <li class="right" >
          <a href="arithmetics.html" title="Arithmetics"
             >previous</a> |</li>
        <li><a href="index.html">nlproject 1.0dev documentation</a> &raquo;</li>
          <li><a href="nl_intro.html" >Documentation for nl</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Enrique Pablo Pérez Arnaud &lt;enriquepablo at google&#39;s mail domain&gt;.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>